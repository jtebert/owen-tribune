{% load wagtailuserbar wagtailcore_tags wagtailsettings_tags menu_tags %}
{% load static from staticfiles %}
{% get_settings %}
{% load sass_tags %}

<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>{% block title %}{% if self.seo_title %}{{ self.seo_title }}{% else %}{{ self.title }}{% endif %}{% endblock %}{% block title_suffix %}{% endblock %}</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Latest compiled and minified CSS -->
    <link href="{% sass_src 'sass/mystyles.scss' %}" rel="stylesheet"
    type="text/css">
    <link href="{% sass_src 'sass/syntax.scss' %}" rel="stylesheet" type="text/css">
    <!--<link rel="stylesheet" type="text/css" href="{% static 'css/syntax.css' %}">-->
    <link rel="shortcut icon" type="image/png" href="{% static 'imgs/favicon.ico' %}"/>
    <!-- TODO: Replace with local/NPM -->
    <link href="{% static 'node_modules/mdi/css/materialdesignicons.min.css' %}"
    media="all" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Frank+Ruhl+Libre:300,400,400i|Montserrat:400,500,700|Share+Tech" rel="stylesheet">

    {% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
    {% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">

<div id="sticky-wrapper">
    {% block content %}{% endblock %}
</div>

{% block footer %}
    <footer class="footer">
        <div class="container has-text-centered">
            {% flat_menu 'footer_menu' %}
            <div class="content has-text-centered">
            <p>
                <strong>{{ request.site.site_name }}</strong> by
                {% with settings.home.GeneralSettings as gs %}
                    {% if gs.site_author and gs.site_author_link %}
                        <a href="{{ gs.site_author_link }}">{{ gs.site_author }}</a>
                    {% elif gs.site_author %}
                        {{ gs.site_author }}
                    {% endif %}
                {% endwith %}
            </p>
            </div>
        </div>
    </footer>
{% endblock %}

<!-- Core JavaSript -->
<script src="{% static 'js/tribune.js' %}"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        CommonHTML: { linebreaks: { automatic: true } },
        "HTML-CSS": { linebreaks: { automatic: true } },
        SVG: { linebreaks: { automatic: true } }
    });
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
{% block extra_js %}
    {# Override this in templates to add extra javascript #}
{% endblock %}

{% wagtailuserbar %}
</body>
</html>


{% comment %}
<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>{% block title %}{% if self.seo_title %}{{ self.seo_title }}{% else %}{{ self.title }}{% endif %}{% endblock %}{% block title_suffix %}{% endblock %}</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Latest compiled and minified CSS -->

    <link href="{% sass_src 'sass/mystyles.scss' %}" rel="stylesheet" type="text/css">
    {# <link href="{% sass_src 'node_modules/bulma/bulma.sass' %}" rel="stylesheet" type="text/css"> #}

    {# Global stylesheets #}
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-custom.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/tribune.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'font-awesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/syntax.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'imgs/favicon.ico' %}"/>

    {% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
    {% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">

{% block content %}{% endblock %}

{% block footer %}
    <div class="container">
        <footer>
            <hr>
            <div class="wrap">
                {% flat_menu 'footer' %}
            </div>
            <div class="row">
                <div class="col-md-12"><p>&copy; {% now "Y" %} {{ settings.home.GeneralSettings.site_name }}</p></div>
            </div>
        </footer>
    </div>
{% endblock %}

{# Global javascript #}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript" src="{% static 'js/tribune.js' %}"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
{% with settings.home.GeneralSettings.google_analytics as google_analytics %}
    {% if google_analytics %}
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', '{{ google_analytics }}', 'auto');
            ga('send', 'pageview');

        </script>
    {% endif %}
{% endwith %}

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!--<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>-->
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>

{% block extra_js %}
    {# Override this in templates to add extra javascript #}
{% endblock %}

{% wagtailuserbar %}

</body>
</html>
{% endcomment %}